<% include ../header.html %>

<div class="container">
    <h1>带有简单工具栏</h1>
    <div id="toolbar">
        <div class="form-inline" role="form">
            <div class="form-group">
                <span>Offset: </span>
                <input name="offset" class="form-control w70" type="number" value="0">
            </div>
            <div class="form-group">
                <span>Limit: </span>
                <input name="limit" class="form-control w70" type="number" value="5">
            </div>
            <div class="form-group">
                <input name="search" class="form-control" type="text" placeholder="Search">
            </div>
            <button id="ok" type="submit" class="btn btn-default">OK</button>

        </div>
        <button id="btn_add" type="button" class="btn  btn-success" onclick="btn_add()">
            <span class="fa fa-plus" aria-hidden="true"></span>新增
        </button>
        <button id="remove" class="btn btn-danger">
            <i class="fa fa-remove"></i> 删除
        </button>
    </div>
    <table id="table" data-toggle="table" data-height="460" data-toolbar="#toolbar" data-show-refresh="true"
        data-show-toggle="true" data-show-columns="true" data-query-params="queryParams" data-url="/json/data1.json">
        <thead>
            <tr>
                <th data-field="id">ID</th>
                <th data-field="name">Item Name</th>
                <th data-field="price">Item Price</th>
            </tr>
        </thead>
    </table>
</div>

<script>
    var $table = $('#table'),
        $ok = $('#ok');

    $(function () {
        $ok.click(function () {
            $table.bootstrapTable('refresh');
        });
    });

    function queryParams() {
        var params = {};
        $('#toolbar').find('input[name]').each(function () {
            params[$(this).attr('name')] = $(this).val();
        });
        return params;
    }

    function responseHandler(res) {
        return res.rows;
    }
</script>

<% include ../footer.html %>